import{_ as u,d as h,u as f,m as w,p as _,t as k,r as v,o as E,g as x,b as s,aw as g,v as y,c as i,n as m,av as S,i as b}from"./index-2PiHdJuC.js";import{E as B,u as M}from"./use-erorrs-ZpWOnm9m.js";const j="/task_flow/assets/loginbackground-BJFigUkz.jpg",C="/task_flow/assets/logo-back-BH2qzh0-.png",U=h({components:{ErrorMessage:B},setup(){const o=f();localStorage.getItem("accessToken")&&o.push({name:"admin-dashboard"});const e=M(),c=w(()=>e.errors),n=_({email:"",password:""}),p=()=>{e.clearAllErrors(),n.email?/\S+@\S+\.\S+/.test(n.email)||e.setError("email","Email không hợp lệ!"):e.setError("email","Vui lòng nhập vào Email!"),n.password?n.password.length<8&&e.setError("password","Mật khẩu phải có ít nhất 8 ký tự!"):e.setError("password","Vui lòng nhập vào mật khẩu!"),Object.keys(c.value).length===0&&S.post("http://taskflow.local/api/login",n).then(t=>{console.log(t.data),t.data.response_code==="200"&&(localStorage.setItem("accessToken",t.data.access_token),localStorage.setItem("userInfo",JSON.stringify(t.data.user_infor)),b.success(t.data.message||"Đăng nhập thành công!"),o.push({name:"admin-dashboard"}))}).catch(t=>{if(t.response&&t.response.data.errors){const r=t.response.data.errors;Object.keys(r).forEach(d=>{const l=r[d][0];e.setError(d,l)})}else b.error(t.response.data.message)})};return{...k(n),errors:c,loginUsers:p}}}),z={class:"bg-light p-3 p-md-4 p-xl-5"},I={class:"container"},V={class:"row justify-content-center"},q={class:"col-12 col-xxl-11"},N={class:"card border-light-subtle shadow-sm"},$={class:"row g-0"},A={class:"col-12 col-md-6 d-flex align-items-center justify-content-center"},H={class:"col-12 col-lg-11 col-xl-10"},O={class:"card-body p-3 p-md-4 p-xl-5"},T={class:"row gy-3 overflow-hidden"},J={class:"col-12"},R={class:"form-floating mb-3"},F={class:"col-12"},G={class:"form-floating mb-3"};function L(o,a,e,c,n,p){const t=v("a-input"),r=v("ErrorMessage"),d=v("a-input-password");return E(),x("section",z,[s("div",I,[s("div",V,[s("div",q,[s("div",N,[s("div",$,[a[8]||(a[8]=s("div",{class:"col-12 col-md-6"},[s("img",{class:"img-fluid rounded-start w-100 h-100 object-fit-cover",loading:"lazy",src:j,alt:"Chào mừng bạn đến với hệ thống quản lý dự án"})],-1)),s("div",A,[s("div",H,[s("div",O,[a[6]||(a[6]=g('<div class="row" data-v-6bb52530><div class="col-12" data-v-6bb52530><div class="mb-5" data-v-6bb52530><div class="text-center mb-4" data-v-6bb52530><a href="#!" data-v-6bb52530><img src="'+C+'" alt="BootstrapBrain Logo" width="175" height="57" data-v-6bb52530></a></div><h4 class="text-center" data-v-6bb52530> Chào mừng bạn đến với hệ thống quản lý dự án </h4></div></div></div><div class="row" data-v-6bb52530><div class="col-12" data-v-6bb52530><div class="d-flex gap-3 flex-column" data-v-6bb52530><a href="#!" class="btn btn-lg btn-outline-dark" data-v-6bb52530><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-google" viewBox="0 0 16 16" data-v-6bb52530><path d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z" data-v-6bb52530></path></svg><span class="ms-2 fs-6" data-v-6bb52530>Đăng nhập bằng Google</span></a></div><p class="text-center mt-4 mb-5" data-v-6bb52530>Hoặc đăng nhập bằng</p></div></div>',2)),s("form",{onSubmit:a[2]||(a[2]=y((...l)=>o.loginUsers&&o.loginUsers(...l),["prevent"]))},[s("div",T,[s("div",J,[s("div",R,[i(t,{placeholder:"Email","allow-clear":"",required:"",id:"email",value:o.email,"onUpdate:value":a[0]||(a[0]=l=>o.email=l),class:m({"input-danger":o.errors.email})},null,8,["value","class"]),a[3]||(a[3]=s("div",{class:"w-100"},null,-1)),i(r,{message:o.errors.email},null,8,["message"])])]),s("div",F,[s("div",G,[i(d,{placeholder:"Mật khẩu","allow-clear":"",id:"password",value:o.password,"onUpdate:value":a[1]||(a[1]=l=>o.password=l),class:m({"input-danger":o.errors.password})},null,8,["value","class"]),a[4]||(a[4]=s("div",{class:"w-100"},null,-1)),i(r,{message:o.errors.password},null,8,["message"])])]),a[5]||(a[5]=s("div",{class:"col-12"},[s("div",{class:"d-grid"},[s("button",{class:"btn btn-dark btn-lg",type:"submit"}," Đăng nhập ")])],-1))])],32),a[7]||(a[7]=g('<div class="row" data-v-6bb52530><div class="col-12" data-v-6bb52530><div class="d-flex gap-2 gap-md-4 flex-column flex-md-row justify-content-md-center mt-5" data-v-6bb52530><a href="#!" class="link-secondary text-decoration-none" data-v-6bb52530>Tạo tài khoản</a><a href="#!" class="link-secondary text-decoration-none" data-v-6bb52530>Quên mật khẩu?</a></div></div></div>',1))])])])])])])])])])}const K=u(U,[["render",L],["__scopeId","data-v-6bb52530"]]);export{K as default};

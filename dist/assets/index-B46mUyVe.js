import{u as b}from"./use-menu-Csjr_HKk.js";import{u as h}from"./use-axios-B515G0bt.js";import{_ as v,d as S,f as w,n as B,r as n,o as d,a as _,w as o,b as s,c as a,g as C,v as I,x as f}from"./index-n5cQwVAs.js";const $=S({setup(){b().onSelectedKeys(["admin-departments"]);const e=w([]),l=[{title:"#",key:"index"},{title:"Mã Phòng Ban",key:"code",dataIndex:"code"},{title:"Tên Phòng Ban",dataIndex:"description",key:"description"},{title:"Công cụ",key:"action",fixed:"right"}],c=h(),i=localStorage.getItem("accessToken");i&&c.initializeAxios(i);const m=async()=>{try{const t=await c.axiosInstance.get("/departments");e.value=t.data}catch(t){console.log(t)}};return B(()=>{m()}),{departments:e,columns:l}}}),M={class:"row mb-3"},N={class:"col-12 justify-content-end d-flex"},P={class:"row"},V={class:"col-12"},A={key:0};function D(r,e,l,c,i,m){const t=n("router-link"),p=n("a-button"),y=n("a-table"),k=n("a-card");return d(),_(k,{title:"Phòng ban",style:{width:"100%"}},{default:o(()=>[s("div",M,[s("div",N,[a(p,{type:"primary"},{default:o(()=>[a(t,{to:{name:"admin-departments-create"}},{default:o(()=>e[0]||(e[0]=[s("i",{class:"fa-solid fa-plus"},null,-1)])),_:1})]),_:1})])]),s("div",P,[s("div",V,[a(y,{dataSource:r.departments,columns:r.columns,scroll:{x:576}},{bodyCell:o(({column:u,index:x,record:g})=>[u.key==="index"?(d(),C("span",A,I(x+1),1)):f("",!0),u.key==="action"?(d(),_(t,{key:1,to:{name:"admin-departments-edit",params:{id:g.id}}},{default:o(()=>[a(p,{type:"primary",class:"me-sm-2 mb-2 mb-sm-0"},{default:o(()=>e[1]||(e[1]=[s("i",{class:"fa-regular fa-pen-to-square"},null,-1)])),_:1})]),_:2},1032,["to"])):f("",!0)]),_:1},8,["dataSource","columns"])])])]),_:1})}const z=v($,[["render",D]]);export{z as default};
